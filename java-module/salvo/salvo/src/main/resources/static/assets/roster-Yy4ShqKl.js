import{c as u,j as e,r as n,A as j}from"./styles-D6TO0k75.js";function x(){const[l,h]=n.useState([]),[c,d]=n.useState(""),[i,s]=n.useState("");n.useEffect(()=>{o()},[]);function o(){fetch("/players").then(t=>t.json()).then(t=>{const a=t?._embedded?.players||[];h(a)}).catch(()=>s("Failed to load players."))}function m(t){t.preventDefault();const a=c.trim();if(!a){s("Enter a player email or name.");return}s("Saving..."),fetch("/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a})}).then(r=>{if(!r.ok)throw new Error("Failed to create player.");return r.json()}).then(()=>{d(""),s("Player added."),o()}).catch(r=>s(r.message))}return e.jsxs(j,{title:"Salvo",subtitle:"Player roster",children:[e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{children:"Players"}),e.jsxs("span",{className:"tag",children:[l.length," total"]})]}),l.length===0?e.jsx("p",{className:"notice",children:"No players found yet."}):e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Player"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.userName})]},t.id))})]})]}),e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{children:"Add player"}),i?e.jsx("span",{className:"tag",children:i}):null]}),e.jsxs("form",{className:"form",onSubmit:m,children:[e.jsx("input",{className:"input",value:c,onChange:t=>d(t.target.value),placeholder:"Enter email",autoComplete:"email"}),e.jsx("button",{type:"submit",className:"button",children:"Create player"})]})]})]})}const p=u.createRoot(document.getElementById("root"));p.render(e.jsx(x,{}));
