import{c as j,j as e,r as n,F as u,A as x}from"./styles-Db2hZ_OR.js";function p(){const[l,h]=n.useState([]),[c,i]=n.useState(""),[d,t]=n.useState("");n.useEffect(()=>{o()},[]);function o(){fetch("/players").then(s=>s.json()).then(s=>{const a=s?._embedded?.players||[];h(a)}).catch(()=>t("Failed to load players."))}function m(s){s.preventDefault();const a=c.trim();if(!a){t("Enter a player email or name.");return}t("Saving..."),fetch("/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a})}).then(r=>{if(!r.ok)throw new Error("Failed to create player.");return r.json()}).then(()=>{i(""),t("Player added."),o()}).catch(r=>t(r.message))}return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsxs(x,{title:"Salvo",subtitle:"Player roster",children:[e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{children:"Players"}),e.jsxs("span",{className:"tag",children:[l.length," total"]})]}),l.length===0?e.jsx("p",{className:"notice",children:"No players found yet."}):e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Player"})]})}),e.jsx("tbody",{children:l.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsx("td",{children:s.userName})]},s.id))})]})]}),e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{children:"Add player"}),d?e.jsx("span",{className:"tag",children:d}):null]}),e.jsxs("form",{className:"form",onSubmit:m,children:[e.jsx("input",{className:"input",value:c,onChange:s=>i(s.target.value),placeholder:"Enter email",autoComplete:"email"}),e.jsx("button",{type:"submit",className:"button",children:"Create player"})]})]})]})]})}const y=j.createRoot(document.getElementById("root"));y.render(e.jsx(p,{}));
